{"mappings":"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","sources":["<anon>","src/scripts/heron_fountain_simulation.js"],"sourcesContent":["import \"./bubble_simulation.8d2f6bb2.js\";\n\n\n      var $parcel$global = globalThis;\n    \nvar $parcel$modules = {};\nvar $parcel$inits = {};\n\nvar parcelRequire = $parcel$global[\"parcelRequire0087\"];\n\nif (parcelRequire == null) {\n  parcelRequire = function(id) {\n    if (id in $parcel$modules) {\n      return $parcel$modules[id].exports;\n    }\n    if (id in $parcel$inits) {\n      var init = $parcel$inits[id];\n      delete $parcel$inits[id];\n      var module = {id: id, exports: {}};\n      $parcel$modules[id] = module;\n      init.call(module.exports, module, module.exports);\n      return module.exports;\n    }\n    var err = new Error(\"Cannot find module '\" + id + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, init) {\n    $parcel$inits[id] = init;\n  };\n\n  $parcel$global[\"parcelRequire0087\"] = parcelRequire;\n}\n\nvar parcelRegister = parcelRequire.register;\n\nvar $dyjou = parcelRequire(\"dyjou\");\nvar $ilwiq = parcelRequire(\"ilwiq\");\n\nvar $5Rd1x = parcelRequire(\"5Rd1x\");\n\nvar $9sWXr = parcelRequire(\"9sWXr\");\n// =============================================================================\n// THREE.JS SCENE IMPLEMENTATION\n// =============================================================================\nclass $8482652b5247a78d$var$MultiCompartmentScene {\n    constructor(containerId = \"scene-container\"){\n        this.container = document.getElementById(containerId);\n        if (!this.container) throw new Error(`Container element with id '${containerId}' not found.`);\n        // --- GUI Parameters with Random Measures for now ---\n        this.guiParams = {\n            // Overall container size\n            container_width: 20,\n            container_height: 25,\n            // Compartment D/B/C height (lower section)\n            lower_height: 10,\n            // Wall thickness\n            wall_thickness: 1,\n            // Position of the inner vertical wall (separating B and C)\n            inner_wall_x_pos: -2.5,\n            // Height of the short wall in C\n            short_wall_height: 6,\n            // Water levels (from the bottom of the container)\n            water_level_A: 20,\n            water_level_B: 7,\n            water_level_C: 7,\n            // Pipe dimensions\n            pipe_radius: 0.25,\n            pipe_siphon_x: 7,\n            pipe_siphon_h: 22,\n            pipe_vertical_x: -6,\n            // View control\n            viewMode: \"3D\",\n            // Functions (placeholder)\n            toggleAnimation: ()=>console.log(\"Animation not implemented yet\"),\n            resetParameters: ()=>this.resetParams()\n        };\n        this.scene = null;\n        this.renderer = null;\n        this.camera3D = null;\n        this.camera2D = null;\n        this.controls = null;\n        this.gui = null;\n        this.animationData = {\n            time: 0,\n            isRunning: false\n        };\n        this.objects = {}; // Store named objects for easy access\n        this.initThree();\n        this.createGeometry();\n        this.setupGUI();\n        this.animate = this.animate.bind(this);\n        this.animate();\n    }\n    initThree() {\n        this.scene = new $dyjou.Scene();\n        this.scene.background = new $ilwiq.Color(0x1a1a1a); // Dark background\n        this.renderer = new $ilwiq.WebGLRenderer({\n            antialias: true\n        });\n        this.renderer.setSize(this.container.clientWidth, this.container.clientHeight);\n        this.container.appendChild(this.renderer.domElement);\n        // --- Camera Setup ---\n        const aspect = this.container.clientWidth / this.container.clientHeight;\n        const viewSize = 15; // Controls the scale in 2D mode\n        // 2D Camera (Orthographic, centered on the tank)\n        this.camera2D = new $ilwiq.OrthographicCamera(-viewSize * aspect, viewSize * aspect, viewSize, -viewSize, 0.1, 100);\n        this.camera2D.position.set(0, this.guiParams.container_height / 2 - 5, 20); // Looking from +Z\n        // 3D Camera (Perspective)\n        this.camera3D = new $ilwiq.PerspectiveCamera(45, aspect, 0.1, 100);\n        this.camera3D.position.set(20, 15, 30);\n        this.camera3D.lookAt(0, this.guiParams.container_height / 2 - 5, 0);\n        this.camera = this.camera3D;\n        // --- Controls ---\n        this.controls = new (0, $5Rd1x.OrbitControls)(this.camera3D, this.renderer.domElement);\n        this.controls.enableDamping = true;\n        this.controls.dampingFactor = 0.05;\n        // --- Lighting ---\n        const ambientLight = new $dyjou.AmbientLight(0xffffff, 0.8);\n        this.scene.add(ambientLight);\n        const directionalLight = new $dyjou.DirectionalLight(0xffffff, 0.5);\n        directionalLight.position.set(10, 20, 10);\n        this.scene.add(directionalLight);\n        window.addEventListener(\"resize\", this.onWindowResize.bind(this));\n    }\n    createGeometry() {\n        const p = this.guiParams;\n        const { container_width: container_width, container_height: container_height, lower_height: lower_height, wall_thickness: wall_thickness, inner_wall_x_pos: inner_wall_x_pos, short_wall_height: short_wall_height } = p;\n        // --- Materials ---\n        const blackWallMat = new $dyjou.MeshStandardMaterial({\n            color: 0x000000\n        });\n        const blueWaterMat = new $dyjou.MeshPhongMaterial({\n            color: 0x00bfff,\n            transparent: true,\n            opacity: 0.7\n        });\n        const redPointMat = new $ilwiq.MeshBasicMaterial({\n            color: 0x990000\n        });\n        const whitePipeMat = new $ilwiq.MeshBasicMaterial({\n            color: 0xffffff,\n            side: $ilwiq.DoubleSide,\n            transparent: true,\n            opacity: 0.8\n        });\n        const blueSiphonMat = new $dyjou.LineBasicMaterial({\n            color: 0x00bfff,\n            linewidth: 3\n        });\n        // Center the container base at (0, 0, 0)\n        const offsetX = 0;\n        const offsetY = container_height / 2;\n        const offsetZ = 0;\n        const group = new $dyjou.Group();\n        group.position.set(offsetX, offsetY, offsetZ);\n        // --- 1. Outer Container Walls (Black) ---\n        // Floor\n        const floor = new $ilwiq.Mesh(new $ilwiq.BoxGeometry(container_width, wall_thickness, wall_thickness), blackWallMat);\n        floor.position.set(0, -container_height / 2 + wall_thickness / 2, 0);\n        group.add(floor);\n        // Back Wall (The only Z wall we'll model for a 2D-like view)\n        const backWall = new $ilwiq.Mesh(new $ilwiq.BoxGeometry(container_width, container_height, wall_thickness), blackWallMat);\n        backWall.position.set(0, 0, -wall_thickness / 2);\n        group.add(backWall);\n        // Left Wall\n        const leftWall = new $ilwiq.Mesh(new $ilwiq.BoxGeometry(wall_thickness, container_height, wall_thickness), blackWallMat);\n        leftWall.position.set(-container_width / 2 + wall_thickness / 2, 0, 0);\n        group.add(leftWall);\n        // Right Wall\n        const rightWall = new $ilwiq.Mesh(new $ilwiq.BoxGeometry(wall_thickness, container_height, wall_thickness), blackWallMat);\n        rightWall.position.set(container_width / 2 - wall_thickness / 2, 0, 0);\n        group.add(rightWall);\n        // --- 2. Inner Separators ---\n        // Horizontal Floor (Separating A from D) - Top surface of D\n        const d_floor_y = -container_height / 2 + lower_height + wall_thickness / 2;\n        const d_floor = new $ilwiq.Mesh(new $ilwiq.BoxGeometry(container_width - 2 * wall_thickness, wall_thickness, wall_thickness), blackWallMat);\n        d_floor.position.set(0, d_floor_y, 0);\n        group.add(d_floor);\n        // Vertical Wall (Separating B from C)\n        const b_c_wall = new $ilwiq.Mesh(new $ilwiq.BoxGeometry(wall_thickness, lower_height, wall_thickness), blackWallMat);\n        b_c_wall.position.set(inner_wall_x_pos, -container_height / 2 + lower_height / 2, 0);\n        group.add(b_c_wall);\n        // Short Wall (The small wall in C compartment)\n        const c_wall_x = container_width / 2 - wall_thickness - (container_width / 2 - wall_thickness - inner_wall_x_pos) / 2;\n        const c_wall_y = -container_height / 2 + short_wall_height / 2;\n        const c_wall_width = container_width / 2 - wall_thickness - inner_wall_x_pos; // Width of C area\n        const short_wall = new $ilwiq.Mesh(new $ilwiq.BoxGeometry(c_wall_width, short_wall_height, wall_thickness), blackWallMat);\n        short_wall.position.set((inner_wall_x_pos + container_width / 2 - wall_thickness) / 2, c_wall_y, 0);\n        group.add(short_wall);\n        // --- 3. Water Levels (Planes for visualization) ---\n        const water_geom = new $ilwiq.PlaneGeometry(1, 1); // Unit size, scaled later\n        water_geom.rotateX(-Math.PI / 2); // Orient to be horizontal (Y-up)\n        const w_A = new $ilwiq.Mesh(water_geom, blueWaterMat);\n        w_A.scale.set(container_width - 2 * wall_thickness, container_width - 2 * wall_thickness, 1); // Scale to container width\n        w_A.position.set(0, -container_height / 2 + p.water_level_A, 0);\n        group.add(w_A);\n        this.objects.waterA = w_A;\n        const w_B = new $ilwiq.Mesh(water_geom, blueWaterMat);\n        w_B.scale.set(inner_wall_x_pos - (-container_width / 2 + wall_thickness), inner_wall_x_pos - (-container_width / 2 + wall_thickness), 1); // Scale to B width\n        w_B.position.set((-container_width / 2 + wall_thickness + inner_wall_x_pos) / 2, -container_height / 2 + p.water_level_B, 0);\n        group.add(w_B);\n        this.objects.waterB = w_B;\n        const w_C = new $ilwiq.Mesh(water_geom, blueWaterMat);\n        w_C.scale.set(container_width / 2 - wall_thickness - inner_wall_x_pos, container_width / 2 - wall_thickness - inner_wall_x_pos, 1); // Scale to C width\n        w_C.position.set((inner_wall_x_pos + container_width / 2 - wall_thickness) / 2, -container_height / 2 + p.water_level_C, 0);\n        group.add(w_C);\n        this.objects.waterC = w_C;\n        // --- 4. Pipes and Fluid Stream ---\n        // Pipe 1 (Vertical)\n        const pipe1_height = p.water_level_A - (-container_height / 2 + lower_height + wall_thickness);\n        const pipe1 = new $ilwiq.Mesh(new $dyjou.CylinderGeometry(p.pipe_radius, p.pipe_radius, pipe1_height, 16), whitePipeMat);\n        pipe1.position.set(p.pipe_vertical_x, d_floor_y + pipe1_height / 2, 0);\n        group.add(pipe1);\n        this.objects.pipe1 = pipe1;\n        // Pipe 2 (Siphon) - The long one in C\n        const pipe2_height = p.pipe_siphon_h - (-container_height / 2 + p.water_level_C);\n        const pipe2 = new $ilwiq.Mesh(new $dyjou.CylinderGeometry(p.pipe_radius, p.pipe_radius, pipe2_height, 16), whitePipeMat);\n        pipe2.position.set(p.pipe_siphon_x, -container_height / 2 + p.water_level_C + pipe2_height / 2, 0);\n        group.add(pipe2);\n        this.objects.pipe2 = pipe2;\n        // Siphon Exit Stream (Curved Line)\n        const startPoint = new $ilwiq.Vector3(p.pipe_siphon_x, p.pipe_siphon_h, 0);\n        const endPoint = new $ilwiq.Vector3(container_width / 2 + 5, p.water_level_A, 0);\n        const controlPoint = new $ilwiq.Vector3(p.pipe_siphon_x + 5, p.pipe_siphon_h + 3, 0);\n        const curve = new $dyjou.QuadraticBezierCurve3(startPoint, controlPoint, endPoint);\n        const points = curve.getPoints(50);\n        const lineGeom = new $ilwiq.BufferGeometry().setFromPoints(points);\n        const siphonStream = new $dyjou.Line(lineGeom, blueSiphonMat);\n        siphonStream.position.y = -container_height / 2; // Adjust to be relative to group\n        group.add(siphonStream);\n        this.objects.siphonStream = siphonStream;\n        // --- 5. Labeled Points (Spheres) ---\n        const point_size = 0.5;\n        const pointGeom = new $dyjou.SphereGeometry(point_size, 16, 16);\n        // The reference for all point Y-positions is the bottom of the container (-container_height/2)\n        const getPointY = (level)=>level - container_height / 2;\n        const pointsPositions = [\n            // 1: Center of A water surface\n            {\n                x: 0,\n                y: getPointY(p.water_level_A),\n                z: 0,\n                label: \"1\"\n            },\n            // 2: In water B\n            {\n                x: p.inner_wall_x_pos - 2,\n                y: getPointY(p.water_level_B - 2),\n                z: 0,\n                label: \"2\"\n            },\n            // 3: In water C\n            {\n                x: p.pipe_siphon_x - 2,\n                y: getPointY(p.water_level_C - 1),\n                z: 0,\n                label: \"3\"\n            },\n            // 4: Bottom of the vertical pipe\n            {\n                x: p.pipe_vertical_x,\n                y: d_floor_y + wall_thickness / 2 + point_size,\n                z: 0,\n                label: \"4\"\n            },\n            // 5: Bottom of the siphon pipe\n            {\n                x: p.pipe_siphon_x,\n                y: getPointY(p.water_level_C) - pipe2_height + point_size,\n                z: 0,\n                label: \"5\"\n            },\n            // 6: Highest point on the siphon pipe\n            {\n                x: p.pipe_siphon_x,\n                y: getPointY(p.pipe_siphon_h),\n                z: 0,\n                label: \"6\"\n            }\n        ];\n        pointsPositions.forEach((pos)=>{\n            const point = new $ilwiq.Mesh(pointGeom, redPointMat);\n            point.position.set(pos.x, pos.y, pos.z);\n            point.name = `point${pos.label}`;\n            group.add(point);\n            this.objects[point.name] = point;\n        });\n        this.scene.add(group);\n        this.objects.mainGroup = group;\n    }\n    // --- Utility Functions ---\n    onWindowResize() {\n        const aspect = this.container.clientWidth / this.container.clientHeight;\n        const viewSize = 15;\n        this.camera2D.left = -viewSize * aspect;\n        this.camera2D.right = viewSize * aspect;\n        this.camera2D.top = viewSize;\n        this.camera2D.bottom = -viewSize;\n        this.camera2D.updateProjectionMatrix();\n        this.camera3D.aspect = aspect;\n        this.camera3D.updateProjectionMatrix();\n        this.renderer.setSize(this.container.clientWidth, this.container.clientHeight);\n        this.camera = this.guiParams.viewMode === \"2D\" ? this.camera2D : this.camera3D;\n    }\n    // Placeholder for a full parameter reset\n    resetParams() {\n        console.log(\"Resetting parameters (not yet implemented in detail)\");\n    // A full reset would require reloading/recreating geometry based on new GUI params\n    // For now, this is a placeholder.\n    }\n    // --- GUI Setup (Simplified) ---\n    setupGUI() {\n        this.gui = new (0, $9sWXr.default)({\n            title: \"Controls\"\n        });\n        this.gui.domElement.style.position = \"absolute\";\n        this.gui.domElement.style.top = \"10px\";\n        this.gui.domElement.style.right = \"10px\";\n        // View Mode Control\n        this.gui.add(this.guiParams, \"viewMode\", [\n            \"2D\",\n            \"3D\"\n        ]).name(\"View Mode\").onChange((value)=>{\n            this.camera = value === \"2D\" ? this.camera2D : this.camera3D;\n            this.controls.enabled = value === \"3D\";\n        });\n        // Placeholder for animation/time controls\n        this.gui.add(this.animationData, 'isRunning').name('Start/Pause');\n        this.gui.add(this.animationData, 'time', 0, 10).name('Time (s)').listen();\n        // Placeholder for future parameter controls\n        const dimensionsFolder = this.gui.addFolder('Dimensions (Placeholder)');\n        dimensionsFolder.add(this.guiParams, 'container_height', 10, 30).name('Container Height');\n        dimensionsFolder.add(this.guiParams, 'water_level_A', 10, 25).name('Water A Level');\n        dimensionsFolder.add(this.guiParams, 'pipe_siphon_h', 15, 30).name('Siphon Top H');\n        this.gui.add(this.guiParams, 'resetParameters').name(\"\\uD83D\\uDD04 Reset Parameters\");\n    }\n    // --- Animation Loop ---\n    animate() {\n        requestAnimationFrame(this.animate);\n        if (this.guiParams.viewMode === \"3D\") this.controls.update();\n        // Placeholder for delta time / animation update\n        if (this.animationData.isRunning) // Here is where you would calculate the new water levels and pipe flow\n        // The objects this.objects.waterA, this.objects.waterB, etc., would be updated\n        // For now, just increment the time for display purposes\n        this.animationData.time += 0.016;\n        this.renderer.render(this.scene, this.camera);\n    }\n}\ndocument.addEventListener(\"DOMContentLoaded\", ()=>{\n    // Assuming you have a div with id=\"scene-container\" in your HTML\n    const container = document.createElement('div');\n    container.id = 'scene-container';\n    container.style.width = '100%';\n    container.style.height = '100vh';\n    document.body.appendChild(container);\n    try {\n        new $8482652b5247a78d$var$MultiCompartmentScene(\"scene-container\");\n    } catch (e) {\n        console.error(\"Failed to initialize MultiCompartmentScene:\", e);\n    }\n});\n\n\n//# sourceMappingURL=heron_fountain_simulation.3817ef41.js.map\n","import * as THREE from \"three\";\nimport { OrbitControls } from \"three/examples/jsm/controls/OrbitControls.js\";\nimport GUI from \"lil-gui\";\n\n// =============================================================================\n// THREE.JS SCENE IMPLEMENTATION\n// =============================================================================\n\nclass MultiCompartmentScene {\n  constructor(containerId = \"scene-container\") {\n    this.container = document.getElementById(containerId);\n    if (!this.container)\n      throw new Error(`Container element with id '${containerId}' not found.`);\n\n    // --- GUI Parameters with Random Measures for now ---\n    this.guiParams = {\n      // Overall container size\n      container_width: 20,\n      container_height: 25,\n      // Compartment D/B/C height (lower section)\n      lower_height: 10,\n      // Wall thickness\n      wall_thickness: 1,\n      // Position of the inner vertical wall (separating B and C)\n      inner_wall_x_pos: -2.5,\n      // Height of the short wall in C\n      short_wall_height: 6,\n      // Water levels (from the bottom of the container)\n      water_level_A: 20,\n      water_level_B: 7,\n      water_level_C: 7,\n      // Pipe dimensions\n      pipe_radius: 0.25,\n      pipe_siphon_x: 7,\n      pipe_siphon_h: 22,\n      pipe_vertical_x: -6,\n      // View control\n      viewMode: \"3D\",\n      // Functions (placeholder)\n      toggleAnimation: () => console.log(\"Animation not implemented yet\"),\n      resetParameters: () => this.resetParams(),\n    };\n\n    this.scene = null;\n    this.renderer = null;\n    this.camera3D = null;\n    this.camera2D = null;\n    this.controls = null;\n    this.gui = null;\n    this.animationData = { time: 0, isRunning: false };\n    this.objects = {}; // Store named objects for easy access\n\n    this.initThree();\n    this.createGeometry();\n    this.setupGUI();\n    this.animate = this.animate.bind(this);\n    this.animate();\n  }\n\n  initThree() {\n    this.scene = new THREE.Scene();\n    this.scene.background = new THREE.Color(0x1a1a1a); // Dark background\n\n    this.renderer = new THREE.WebGLRenderer({ antialias: true });\n    this.renderer.setSize(this.container.clientWidth, this.container.clientHeight);\n    this.container.appendChild(this.renderer.domElement);\n\n    // --- Camera Setup ---\n    const aspect = this.container.clientWidth / this.container.clientHeight;\n    const viewSize = 15; // Controls the scale in 2D mode\n\n    // 2D Camera (Orthographic, centered on the tank)\n    this.camera2D = new THREE.OrthographicCamera(\n      -viewSize * aspect, viewSize * aspect, viewSize, -viewSize, 0.1, 100\n    );\n    this.camera2D.position.set(0, this.guiParams.container_height / 2 - 5, 20); // Looking from +Z\n\n    // 3D Camera (Perspective)\n    this.camera3D = new THREE.PerspectiveCamera(45, aspect, 0.1, 100);\n    this.camera3D.position.set(20, 15, 30);\n    this.camera3D.lookAt(0, this.guiParams.container_height / 2 - 5, 0);\n\n    this.camera = this.camera3D;\n\n    // --- Controls ---\n    this.controls = new OrbitControls(this.camera3D, this.renderer.domElement);\n    this.controls.enableDamping = true;\n    this.controls.dampingFactor = 0.05;\n\n    // --- Lighting ---\n    const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);\n    this.scene.add(ambientLight);\n    const directionalLight = new THREE.DirectionalLight(0xffffff, 0.5);\n    directionalLight.position.set(10, 20, 10);\n    this.scene.add(directionalLight);\n\n    window.addEventListener(\"resize\", this.onWindowResize.bind(this));\n  }\n\n  createGeometry() {\n    const p = this.guiParams;\n    const { container_width, container_height, lower_height, wall_thickness, inner_wall_x_pos, short_wall_height } = p;\n    \n    // --- Materials ---\n    const blackWallMat = new THREE.MeshStandardMaterial({ color: 0x000000 });\n    const blueWaterMat = new THREE.MeshPhongMaterial({ color: 0x00bfff, transparent: true, opacity: 0.7 });\n    const redPointMat = new THREE.MeshBasicMaterial({ color: 0x990000 });\n    const whitePipeMat = new THREE.MeshBasicMaterial({ color: 0xffffff, side: THREE.DoubleSide, transparent: true, opacity: 0.8 });\n    const blueSiphonMat = new THREE.LineBasicMaterial({ color: 0x00bfff, linewidth: 3 });\n\n    // Center the container base at (0, 0, 0)\n    const offsetX = 0;\n    const offsetY = container_height / 2;\n    const offsetZ = 0;\n\n    const group = new THREE.Group();\n    group.position.set(offsetX, offsetY, offsetZ);\n\n    // --- 1. Outer Container Walls (Black) ---\n    // Floor\n    const floor = new THREE.Mesh(new THREE.BoxGeometry(container_width, wall_thickness, wall_thickness), blackWallMat);\n    floor.position.set(0, -container_height / 2 + wall_thickness / 2, 0);\n    group.add(floor);\n\n    // Back Wall (The only Z wall we'll model for a 2D-like view)\n    const backWall = new THREE.Mesh(new THREE.BoxGeometry(container_width, container_height, wall_thickness), blackWallMat);\n    backWall.position.set(0, 0, -wall_thickness / 2);\n    group.add(backWall);\n\n    // Left Wall\n    const leftWall = new THREE.Mesh(new THREE.BoxGeometry(wall_thickness, container_height, wall_thickness), blackWallMat);\n    leftWall.position.set(-container_width / 2 + wall_thickness / 2, 0, 0);\n    group.add(leftWall);\n\n    // Right Wall\n    const rightWall = new THREE.Mesh(new THREE.BoxGeometry(wall_thickness, container_height, wall_thickness), blackWallMat);\n    rightWall.position.set(container_width / 2 - wall_thickness / 2, 0, 0);\n    group.add(rightWall);\n    \n    // --- 2. Inner Separators ---\n    // Horizontal Floor (Separating A from D) - Top surface of D\n    const d_floor_y = -container_height / 2 + lower_height + wall_thickness / 2;\n    const d_floor = new THREE.Mesh(new THREE.BoxGeometry(container_width - 2 * wall_thickness, wall_thickness, wall_thickness), blackWallMat);\n    d_floor.position.set(0, d_floor_y, 0);\n    group.add(d_floor);\n\n    // Vertical Wall (Separating B from C)\n    const b_c_wall = new THREE.Mesh(new THREE.BoxGeometry(wall_thickness, lower_height, wall_thickness), blackWallMat);\n    b_c_wall.position.set(inner_wall_x_pos, -container_height / 2 + lower_height / 2, 0);\n    group.add(b_c_wall);\n\n    // Short Wall (The small wall in C compartment)\n    const c_wall_x = container_width / 2 - wall_thickness - (container_width / 2 - wall_thickness - inner_wall_x_pos) / 2;\n    const c_wall_y = -container_height / 2 + short_wall_height / 2;\n    const c_wall_width = container_width / 2 - wall_thickness - inner_wall_x_pos; // Width of C area\n\n    const short_wall = new THREE.Mesh(new THREE.BoxGeometry(c_wall_width, short_wall_height, wall_thickness), blackWallMat);\n    short_wall.position.set((inner_wall_x_pos + container_width / 2 - wall_thickness) / 2, c_wall_y, 0);\n    group.add(short_wall);\n    \n    // --- 3. Water Levels (Planes for visualization) ---\n    const water_geom = new THREE.PlaneGeometry(1, 1); // Unit size, scaled later\n    water_geom.rotateX(-Math.PI / 2); // Orient to be horizontal (Y-up)\n    \n    const w_A = new THREE.Mesh(water_geom, blueWaterMat);\n    w_A.scale.set(container_width - 2 * wall_thickness, container_width - 2 * wall_thickness, 1); // Scale to container width\n    w_A.position.set(0, -container_height / 2 + p.water_level_A, 0);\n    group.add(w_A);\n    this.objects.waterA = w_A;\n\n    const w_B = new THREE.Mesh(water_geom, blueWaterMat);\n    w_B.scale.set(inner_wall_x_pos - (-container_width / 2 + wall_thickness), inner_wall_x_pos - (-container_width / 2 + wall_thickness), 1); // Scale to B width\n    w_B.position.set((-container_width / 2 + wall_thickness + inner_wall_x_pos) / 2, -container_height / 2 + p.water_level_B, 0);\n    group.add(w_B);\n    this.objects.waterB = w_B;\n\n    const w_C = new THREE.Mesh(water_geom, blueWaterMat);\n    w_C.scale.set(container_width / 2 - wall_thickness - inner_wall_x_pos, container_width / 2 - wall_thickness - inner_wall_x_pos, 1); // Scale to C width\n    w_C.position.set((inner_wall_x_pos + container_width / 2 - wall_thickness) / 2, -container_height / 2 + p.water_level_C, 0);\n    group.add(w_C);\n    this.objects.waterC = w_C;\n\n    // --- 4. Pipes and Fluid Stream ---\n    // Pipe 1 (Vertical)\n    const pipe1_height = p.water_level_A - (-container_height / 2 + lower_height + wall_thickness);\n    const pipe1 = new THREE.Mesh(new THREE.CylinderGeometry(p.pipe_radius, p.pipe_radius, pipe1_height, 16), whitePipeMat);\n    pipe1.position.set(p.pipe_vertical_x, d_floor_y + pipe1_height / 2, 0);\n    group.add(pipe1);\n    this.objects.pipe1 = pipe1;\n\n    // Pipe 2 (Siphon) - The long one in C\n    const pipe2_height = p.pipe_siphon_h - (-container_height / 2 + p.water_level_C);\n    const pipe2 = new THREE.Mesh(new THREE.CylinderGeometry(p.pipe_radius, p.pipe_radius, pipe2_height, 16), whitePipeMat);\n    pipe2.position.set(p.pipe_siphon_x, -container_height / 2 + p.water_level_C + pipe2_height / 2, 0);\n    group.add(pipe2);\n    this.objects.pipe2 = pipe2;\n\n    // Siphon Exit Stream (Curved Line)\n    const startPoint = new THREE.Vector3(p.pipe_siphon_x, p.pipe_siphon_h, 0);\n    const endPoint = new THREE.Vector3(container_width / 2 + 5, p.water_level_A, 0);\n    const controlPoint = new THREE.Vector3(p.pipe_siphon_x + 5, p.pipe_siphon_h + 3, 0);\n    \n    const curve = new THREE.QuadraticBezierCurve3(startPoint, controlPoint, endPoint);\n    const points = curve.getPoints(50);\n    const lineGeom = new THREE.BufferGeometry().setFromPoints(points);\n    const siphonStream = new THREE.Line(lineGeom, blueSiphonMat);\n    siphonStream.position.y = -container_height / 2; // Adjust to be relative to group\n    group.add(siphonStream);\n    this.objects.siphonStream = siphonStream;\n    \n    // --- 5. Labeled Points (Spheres) ---\n    const point_size = 0.5;\n    const pointGeom = new THREE.SphereGeometry(point_size, 16, 16);\n\n    // The reference for all point Y-positions is the bottom of the container (-container_height/2)\n    const getPointY = (level) => level - container_height / 2;\n\n    const pointsPositions = [\n        // 1: Center of A water surface\n        { x: 0, y: getPointY(p.water_level_A), z: 0, label: \"1\" }, \n        // 2: In water B\n        { x: p.inner_wall_x_pos - 2, y: getPointY(p.water_level_B - 2), z: 0, label: \"2\" },\n        // 3: In water C\n        { x: p.pipe_siphon_x - 2, y: getPointY(p.water_level_C - 1), z: 0, label: \"3\" },\n        // 4: Bottom of the vertical pipe\n        { x: p.pipe_vertical_x, y: d_floor_y + wall_thickness / 2 + point_size, z: 0, label: \"4\" },\n        // 5: Bottom of the siphon pipe\n        { x: p.pipe_siphon_x, y: getPointY(p.water_level_C) - pipe2_height + point_size, z: 0, label: \"5\" },\n        // 6: Highest point on the siphon pipe\n        { x: p.pipe_siphon_x, y: getPointY(p.pipe_siphon_h), z: 0, label: \"6\" },\n    ];\n    \n    pointsPositions.forEach(pos => {\n        const point = new THREE.Mesh(pointGeom, redPointMat);\n        point.position.set(pos.x, pos.y, pos.z);\n        point.name = `point${pos.label}`;\n        group.add(point);\n        this.objects[point.name] = point;\n    });\n\n    this.scene.add(group);\n    this.objects.mainGroup = group;\n  }\n\n  // --- Utility Functions ---\n\n  onWindowResize() {\n    const aspect = this.container.clientWidth / this.container.clientHeight;\n    const viewSize = 15;\n    \n    this.camera2D.left = -viewSize * aspect;\n    this.camera2D.right = viewSize * aspect;\n    this.camera2D.top = viewSize;\n    this.camera2D.bottom = -viewSize;\n    this.camera2D.updateProjectionMatrix();\n\n    this.camera3D.aspect = aspect;\n    this.camera3D.updateProjectionMatrix();\n\n    this.renderer.setSize(this.container.clientWidth, this.container.clientHeight);\n    this.camera = this.guiParams.viewMode === \"2D\" ? this.camera2D : this.camera3D;\n  }\n  \n  // Placeholder for a full parameter reset\n  resetParams() {\n    console.log(\"Resetting parameters (not yet implemented in detail)\");\n    // A full reset would require reloading/recreating geometry based on new GUI params\n    // For now, this is a placeholder.\n  }\n\n  // --- GUI Setup (Simplified) ---\n\n  setupGUI() {\n    this.gui = new GUI({ title: \"Controls\" });\n    this.gui.domElement.style.position = \"absolute\";\n    this.gui.domElement.style.top = \"10px\";\n    this.gui.domElement.style.right = \"10px\";\n\n    // View Mode Control\n    this.gui.add(this.guiParams, \"viewMode\", [\"2D\", \"3D\"]).name(\"View Mode\")\n        .onChange((value) => {\n          this.camera = value === \"2D\" ? this.camera2D : this.camera3D;\n          this.controls.enabled = value === \"3D\";\n        });\n        \n    // Placeholder for animation/time controls\n    this.gui.add(this.animationData, 'isRunning').name('Start/Pause');\n    this.gui.add(this.animationData, 'time', 0, 10).name('Time (s)').listen();\n\n    // Placeholder for future parameter controls\n    const dimensionsFolder = this.gui.addFolder('Dimensions (Placeholder)');\n    dimensionsFolder.add(this.guiParams, 'container_height', 10, 30).name('Container Height');\n    dimensionsFolder.add(this.guiParams, 'water_level_A', 10, 25).name('Water A Level');\n    dimensionsFolder.add(this.guiParams, 'pipe_siphon_h', 15, 30).name('Siphon Top H');\n\n    this.gui.add(this.guiParams, 'resetParameters').name('ðŸ”„ Reset Parameters');\n  }\n\n  // --- Animation Loop ---\n\n  animate() {\n    requestAnimationFrame(this.animate);\n\n    if (this.guiParams.viewMode === \"3D\") {\n      this.controls.update();\n    }\n    \n    // Placeholder for delta time / animation update\n    if(this.animationData.isRunning) {\n        // Here is where you would calculate the new water levels and pipe flow\n        // The objects this.objects.waterA, this.objects.waterB, etc., would be updated\n        // For now, just increment the time for display purposes\n        this.animationData.time += 0.016; \n    }\n\n    this.renderer.render(this.scene, this.camera);\n  }\n}\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n  // Assuming you have a div with id=\"scene-container\" in your HTML\n  const container = document.createElement('div');\n  container.id = 'scene-container';\n  container.style.width = '100%';\n  container.style.height = '100vh';\n  document.body.appendChild(container);\n\n  try {\n    new MultiCompartmentScene(\"scene-container\");\n  } catch (e) {\n    console.error(\"Failed to initialize MultiCompartmentScene:\", e);\n  }\n});"],"names":["$parcel$global","globalThis","$parcel$modules","$parcel$inits","parcelRequire","id","exports","init","module","call","err","Error","code","register","$dyjou","$ilwiq","$5Rd1x","$9sWXr","$8482652b5247a78d$var$MultiCompartmentScene","containerId","container","document","getElementById","guiParams","container_width","container_height","lower_height","wall_thickness","inner_wall_x_pos","short_wall_height","water_level_A","water_level_B","water_level_C","pipe_radius","pipe_siphon_x","pipe_siphon_h","pipe_vertical_x","viewMode","toggleAnimation","console","log","resetParameters","resetParams","scene","renderer","camera3D","camera2D","controls","gui","animationData","time","isRunning","objects","initThree","createGeometry","setupGUI","animate","bind","Scene","background","Color","WebGLRenderer","antialias","setSize","clientWidth","clientHeight","appendChild","domElement","aspect","OrthographicCamera","viewSize","position","set","PerspectiveCamera","lookAt","camera","OrbitControls","enableDamping","dampingFactor","ambientLight","AmbientLight","add","directionalLight","DirectionalLight","window","addEventListener","onWindowResize","p","blackWallMat","MeshStandardMaterial","color","blueWaterMat","MeshPhongMaterial","transparent","opacity","redPointMat","MeshBasicMaterial","whitePipeMat","side","DoubleSide","blueSiphonMat","LineBasicMaterial","linewidth","offsetY","group","Group","floor","Mesh","BoxGeometry","backWall","leftWall","rightWall","d_floor_y","d_floor","b_c_wall","c_wall_y","c_wall_width","short_wall","water_geom","PlaneGeometry","rotateX","Math","PI","w_A","scale","waterA","w_B","waterB","w_C","waterC","pipe1_height","pipe1","CylinderGeometry","pipe2_height","pipe2","startPoint","Vector3","endPoint","controlPoint","points","curve","QuadraticBezierCurve3","getPoints","lineGeom","BufferGeometry","setFromPoints","siphonStream","Line","y","pointGeom","SphereGeometry","pointsPositions","x","level","z","label","getPointY","forEach","pos","point","name","mainGroup","left","right","top","bottom","updateProjectionMatrix","default","title","style","onChange","value","enabled","listen","dimensionsFolder","addFolder","requestAnimationFrame","update","render","createElement","width","height","body","e","error"],"version":3,"file":"heron_fountain_simulation.3817ef41.js.map"}