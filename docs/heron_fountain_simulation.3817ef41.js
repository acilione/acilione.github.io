import"./bubble_simulation.8d2f6bb2.js";var e=globalThis,t={},i={},n=e.parcelRequire0087;null==n&&((n=function(e){if(e in t)return t[e].exports;if(e in i){var n=i[e];delete i[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var s=Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,t){i[e]=t},e.parcelRequire0087=n),n.register;var a=n("dyjou"),s=n("ilwiq"),r=n("5Rd1x"),o=n("9sWXr");class h{constructor(e="scene-container"){if(this.container=document.getElementById(e),!this.container)throw Error(`Container element with id '${e}' not found.`);this.guiParams={container_width:20,container_height:25,lower_height:10,wall_thickness:1,inner_wall_x_pos:-2.5,short_wall_height:6,water_level_A:20,water_level_B:7,water_level_C:7,pipe_radius:.25,pipe_siphon_x:7,pipe_siphon_h:22,pipe_vertical_x:-6,viewMode:"3D",toggleAnimation:()=>console.log("Animation not implemented yet"),resetParameters:()=>this.resetParams()},this.scene=null,this.renderer=null,this.camera3D=null,this.camera2D=null,this.controls=null,this.gui=null,this.animationData={time:0,isRunning:!1},this.objects={},this.initThree(),this.createGeometry(),this.setupGUI(),this.animate=this.animate.bind(this),this.animate()}initThree(){this.scene=new a.Scene,this.scene.background=new s.Color(1710618),this.renderer=new s.WebGLRenderer({antialias:!0}),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.container.appendChild(this.renderer.domElement);let e=this.container.clientWidth/this.container.clientHeight;this.camera2D=new s.OrthographicCamera(-15*e,15*e,15,-15,.1,100),this.camera2D.position.set(0,this.guiParams.container_height/2-5,20),this.camera3D=new s.PerspectiveCamera(45,e,.1,100),this.camera3D.position.set(20,15,30),this.camera3D.lookAt(0,this.guiParams.container_height/2-5,0),this.camera=this.camera3D,this.controls=new(0,r.OrbitControls)(this.camera3D,this.renderer.domElement),this.controls.enableDamping=!0,this.controls.dampingFactor=.05;let t=new a.AmbientLight(0xffffff,.8);this.scene.add(t);let i=new a.DirectionalLight(0xffffff,.5);i.position.set(10,20,10),this.scene.add(i),window.addEventListener("resize",this.onWindowResize.bind(this))}createGeometry(){let e=this.guiParams,{container_width:t,container_height:i,lower_height:n,wall_thickness:r,inner_wall_x_pos:o,short_wall_height:h}=e,l=new a.MeshStandardMaterial({color:0}),c=new a.MeshPhongMaterial({color:49151,transparent:!0,opacity:.7}),d=new s.MeshBasicMaterial({color:0x990000}),p=new s.MeshBasicMaterial({color:0xffffff,side:s.DoubleSide,transparent:!0,opacity:.8}),m=new a.LineBasicMaterial({color:49151,linewidth:3}),_=i/2,w=new a.Group;w.position.set(0,_,0);let u=new s.Mesh(new s.BoxGeometry(t,r,r),l);u.position.set(0,-i/2+r/2,0),w.add(u);let g=new s.Mesh(new s.BoxGeometry(t,i,r),l);g.position.set(0,0,-r/2),w.add(g);let D=new s.Mesh(new s.BoxGeometry(r,i,r),l);D.position.set(-t/2+r/2,0,0),w.add(D);let x=new s.Mesh(new s.BoxGeometry(r,i,r),l);x.position.set(t/2-r/2,0,0),w.add(x);let y=-i/2+n+r/2,v=new s.Mesh(new s.BoxGeometry(t-2*r,r,r),l);v.position.set(0,y,0),w.add(v);let M=new s.Mesh(new s.BoxGeometry(r,n,r),l);M.position.set(o,-i/2+n/2,0),w.add(M);let b=-i/2+h/2,f=t/2-r-o,P=new s.Mesh(new s.BoxGeometry(f,h,r),l);P.position.set((o+t/2-r)/2,b,0),w.add(P);let C=new s.PlaneGeometry(1,1);C.rotateX(-Math.PI/2);let G=new s.Mesh(C,c);G.scale.set(t-2*r,t-2*r,1),G.position.set(0,-i/2+e.water_level_A,0),w.add(G),this.objects.waterA=G;let B=new s.Mesh(C,c);B.scale.set(o-(-t/2+r),o-(-t/2+r),1),B.position.set((-t/2+r+o)/2,-i/2+e.water_level_B,0),w.add(B),this.objects.waterB=B;let z=new s.Mesh(C,c);z.scale.set(t/2-r-o,t/2-r-o,1),z.position.set((o+t/2-r)/2,-i/2+e.water_level_C,0),w.add(z),this.objects.waterC=z;let A=e.water_level_A-(-i/2+n+r),E=new s.Mesh(new a.CylinderGeometry(e.pipe_radius,e.pipe_radius,A,16),p);E.position.set(e.pipe_vertical_x,y+A/2,0),w.add(E),this.objects.pipe1=E;let j=e.pipe_siphon_h-(-i/2+e.water_level_C),R=new s.Mesh(new a.CylinderGeometry(e.pipe_radius,e.pipe_radius,j,16),p);R.position.set(e.pipe_siphon_x,-i/2+e.water_level_C+j/2,0),w.add(R),this.objects.pipe2=R;let S=new s.Vector3(e.pipe_siphon_x,e.pipe_siphon_h,0),L=new s.Vector3(t/2+5,e.water_level_A,0),W=new s.Vector3(e.pipe_siphon_x+5,e.pipe_siphon_h+3,0),H=new a.QuadraticBezierCurve3(S,W,L).getPoints(50),F=new s.BufferGeometry().setFromPoints(H),O=new a.Line(F,m);O.position.y=-i/2,w.add(O),this.objects.siphonStream=O;let T=new a.SphereGeometry(.5,16,16);[{x:0,y:e.water_level_A-i/2,z:0,label:"1"},{x:e.inner_wall_x_pos-2,y:e.water_level_B-2-i/2,z:0,label:"2"},{x:e.pipe_siphon_x-2,y:e.water_level_C-1-i/2,z:0,label:"3"},{x:e.pipe_vertical_x,y:y+r/2+.5,z:0,label:"4"},{x:e.pipe_siphon_x,y:e.water_level_C-i/2-j+.5,z:0,label:"5"},{x:e.pipe_siphon_x,y:e.pipe_siphon_h-i/2,z:0,label:"6"}].forEach(e=>{let t=new s.Mesh(T,d);t.position.set(e.x,e.y,e.z),t.name=`point${e.label}`,w.add(t),this.objects[t.name]=t}),this.scene.add(w),this.objects.mainGroup=w}onWindowResize(){let e=this.container.clientWidth/this.container.clientHeight;this.camera2D.left=-15*e,this.camera2D.right=15*e,this.camera2D.top=15,this.camera2D.bottom=-15,this.camera2D.updateProjectionMatrix(),this.camera3D.aspect=e,this.camera3D.updateProjectionMatrix(),this.renderer.setSize(this.container.clientWidth,this.container.clientHeight),this.camera="2D"===this.guiParams.viewMode?this.camera2D:this.camera3D}resetParams(){console.log("Resetting parameters (not yet implemented in detail)")}setupGUI(){this.gui=new(0,o.default)({title:"Controls"}),this.gui.domElement.style.position="absolute",this.gui.domElement.style.top="10px",this.gui.domElement.style.right="10px",this.gui.add(this.guiParams,"viewMode",["2D","3D"]).name("View Mode").onChange(e=>{this.camera="2D"===e?this.camera2D:this.camera3D,this.controls.enabled="3D"===e}),this.gui.add(this.animationData,"isRunning").name("Start/Pause"),this.gui.add(this.animationData,"time",0,10).name("Time (s)").listen();let e=this.gui.addFolder("Dimensions (Placeholder)");e.add(this.guiParams,"container_height",10,30).name("Container Height"),e.add(this.guiParams,"water_level_A",10,25).name("Water A Level"),e.add(this.guiParams,"pipe_siphon_h",15,30).name("Siphon Top H"),this.gui.add(this.guiParams,"resetParameters").name("\uD83D\uDD04 Reset Parameters")}animate(){requestAnimationFrame(this.animate),"3D"===this.guiParams.viewMode&&this.controls.update(),this.animationData.isRunning&&(this.animationData.time+=.016),this.renderer.render(this.scene,this.camera)}}document.addEventListener("DOMContentLoaded",()=>{let e=document.createElement("div");e.id="scene-container",e.style.width="100%",e.style.height="100vh",document.body.appendChild(e);try{new h("scene-container")}catch(e){console.error("Failed to initialize MultiCompartmentScene:",e)}});
//# sourceMappingURL=heron_fountain_simulation.3817ef41.js.map
